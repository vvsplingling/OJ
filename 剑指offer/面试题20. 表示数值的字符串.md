### [面试题20. 表示数值的字符串](https://leetcode-cn.com/problems/biao-shi-shu-zhi-de-zi-fu-chuan-lcof/)

![image-20200416030832620](%E9%9D%A2%E8%AF%95%E9%A2%9820.%20%E8%A1%A8%E7%A4%BA%E6%95%B0%E5%80%BC%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2.assets/image-20200416030832620.png)

|      | **others0** | sign1 | digit2 | .3   | e4   | blank5 |
| :--: | ----------- | ----- | ------ | ---- | ---- | ------ |
|  →0  | -1          | 1     | 2      | 3    | -1   | 0      |
|  1   | -1          | -1    | 2      | 3    | -1   | -1     |
|  *2  | -1          | -1    | 2      | 4    | 6    | 9      |
|  3   | -1          | -1    | 5      | -1   | -1   | -1     |
|  *4  | -1          | -1    | 5      | -1   | 6    | 9      |
|  *5  | -1          | -1    | 5      | -1   | 6    | 9      |
|  6   | -1          | 7     | 8      | -1   | -1   | -1     |
|  7   | -1          | -1    | 8      | -1   | -1   | -1     |
|  *8  | -1          | -1    | 8      | -1   | -1   | 9      |
|  *9  | -1          | -1    | -1     | -1   | -1   | 9      |

```c++
class Solution {
public:
    bool isNumber(string s) {
        vector<vector<int>> table={
                                    {-1,1,2,3,-1,0},
                                    {-1,-1,2,3,-1,-1},
                                    {-1,-1,2,4,6,9},
                                    {-1,-1,5,-1,-1,-1},
                                    {-1,-1,5,-1,6,9},
                                    {-1,-1,5,-1,6,9},
                                    {-1,7,8,-1,-1,-1},
                                    {-1,-1,8,-1,-1,-1},
                                    {-1,-1,8,-1,-1,9},
                                    {-1,-1,-1,-1,-1,9}
                                  };
        int flag=0;
        map<char,int> m;
        m['+']=1;
        m['-']=1;
        m['0']=2;
        m['1']=2;
        m['2']=2;
        m['3']=2;
        m['4']=2;
        m['5']=2;
        m['6']=2;
        m['7']=2;
        m['8']=2;
        m['9']=2;
        m['.']=3;
        m['e']=4;
        m[' ']=5;
        for(int i=0;i<s.size();++i){
            flag=table[flag][m[s[i]]];
            if(flag==-1)
                return false;
        }
        if(flag==2||flag==4||flag==5||flag==8||flag==9)
            return true;
        return false;
    }
};
```

